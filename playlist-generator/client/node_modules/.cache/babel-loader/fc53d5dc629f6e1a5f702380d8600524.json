{"ast":null,"code":"var express = require(\"express\");\n\nvar logger = require(\"morgan\");\n\nvar mongoose = require(\"mongoose\"); // Our scraping tools\n// Axios is a promised-based http library, similar to jQuery's Ajax method\n// It works on the client and on the server\n\n\nvar PORT = 3001; // Initialize Express\n\nvar app = express(); // Configure middleware\n// Use morgan logger for logging requests\n\napp.use(logger(\"dev\")); // Parse request body as JSON\n\napp.use(express.urlencoded({\n  extended: true\n}));\napp.use(express.json()); // Make public a static folder\n\napp.use(express.static(\"public\")); // Connect to the database before starting the application server.\n\nvar MONGODB_URI = process.env.MONGODB_URI || 'mongodb://localhost/bandsintown';\nmongoose.connect(MONGODB_URI, {\n  useNewUrlParser: true\n});\nmongoose.connection.once('open', function () {\n  console.log('Database connection has been made');\n}).on('error', function (error) {\n  console.log('Database error:', error);\n}); // Start the server\n\napp.listen(PORT, function () {\n  console.log(\"App running on port \" + PORT + \"!\");\n});","map":null,"metadata":{},"sourceType":"script"}